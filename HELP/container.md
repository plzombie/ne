# Формат контейнера Nyan engine

## Используемые типы

Формат использует little-endian порядок байтов.

Слева - обозначение типа в документе, справа - обозначение в си:

* ulongint - long long int (8 байт)
* ulongint - unsigned long long int (8 байт)
* int - int (4 байта)
* uint - unsigned int (4 байта)
* short - short (2 байта)
* ushort - unsigned short (2 байта)
* byte - char (1 байт)
* ubyte - unsigned char (1 байт)

## Формат файла

Файл состоит из чанков.

Каждый чанк содержит заголовок вида:

| size     | name | desc         |
|----------|------|--------------|
| byte*8   |cname | имя чанка    |
| ulongint |csize | размер чанка |

## Стандартные чанки

Всего есть 3 стандартных чанка:


### FILETYPE

Содержит информацию о типе файла, которая хранится в следующей структуре:

| size   | name           | desc                                            |
|--------|----------------|-------------------------------------------------|
| byte*4 | filetype       | Тип файла                                       |
| ushort | reader_version | Минимальная версия совместимой программы-ридера |
| ushort | writer_version | Версия программы, создавшей файл                |

### FILEHEAD

Содержит заголовок файла.

### FILEDATA

Содержит данные файла.

Для упрощения программы-ридера, чанки FILETYPE, FILEHEAD и FILEDATA должны идти последовательно.
Наличие каждого из чанков не обязательно.

## Чанки, содержащие необязательную информацию о файле

Пока нет \^_^

## Используемые расширения файлов

* nek0 - изображения
* nek1 - шрифты
* nek2 - 3d-модели
* nek3 - текстурные атласы (sprite sheets)
